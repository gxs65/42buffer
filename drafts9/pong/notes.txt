### Tools

# About JS

- JS = language for the scripts being executed by the client's browser after it loaded the page
- JS files loaded just like CSS/images/..., with a HTTP request to the server
	\ direct : 'script' instruction in the HTML file
	\ indirect : 'import' instruction in previously loaded JS files
- compared to C++ : very similar syntax, but typing is dynamic and very 'loose' :
	most things (inc. functions, modules...), with attributes allocated on the heap
- importance of event-driven asynchronous programming :
	\ handle events generated by the user / by a websocket
	\ wait without blocking for networking requests to be completed -> callback and promises
- structural typing : two objects sharing the same structure are of the same type,
	even if not defined that way originally
		-> one can be assigned to the other, etc
- we can manipulate :
	\ primitives : number, string, bool, undefined, null
		-> when copied / passed as parameter of function, copy by value
	\ objects (with any number and type of attributes)
		-> when copied / passed as parameter of function, copy by reference
- memory management :
	\ keyword 'new' is not a dynamic memory allocation keyword like in C++
	\ memory is allocated automatically, and freed by garbage collection
		when there is no reference to the object anywhere
- closures : #f

[
- c'est bien une closure qu'on utilise quand on donne ws_id en para des event_handler d'un nouveau ws ?
- est-ce que c'est une mauvaise pratique ? comment faire sinon pour savoir de quel client vient le message
	(en l'etat c'est vrai que ca veut dire que pour chaque client, on cree 2-3 nouvelles fcs et leur handler)
]

# About TS

- TS = compile time checker that enforces strict typing in JS
	to avoid potential runtime errors from type incompatibilities
- to allow strict typing :
	\ all variables/parameters get a type annotation which cannot change
		(instead of having variable that can hold 1 type, then another)
	\ defining interfaces allows to give the expected structure of non-class-instance objects
		(instead of having objects whose number of types and attributes we do not know)
- annotation and interface declaration are used only by TS and compile-time only,
	they disappear after compilation (-> at runtime there is no 'type metadata' about objects)
- to tell TS the type of objects that "appear" from nowhere at runtime, like when a JSON string is parsed,
	we can use `as` : `newObj = JSON.parse(objString) as typeOfNewObj;`

# About Node.JS

- what it is and means
- how imports work, ES and CommonJS

# About WS

- bidirectional maintained communication protocol
- used stringified objects, define those objects with interfaces, role of discriminated unions

# About Zod

- explain 2 roles of Zod : compile time and runtime
	(en compile time, meme s'il n'y a pas de lignes de code de Zod executees,
		les objets definis pour Zod ont un type, comme tout objet, et on peut inferer de ce type)

### Project

- explain whole structure of events client-server
- explain different server message types and the ways to end a game
- clarifier player/client et gestion du websocket par Websocketserver et ses instances de Pong_game
- bien distinguer ticks de simulation / ticks de broadcast / frames de browser

### TODO

- protocol versioning ?

### Draft



/*
// 'require' syntax from CommonJS used to import modules
// (this is the old Node.JS system to import modules,
//  since then JS has developed another system using keyword 'import')
const http = require('node:http');
const fs = require('node:fs');
const ws = require('ws');
*/
